<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:s="http://java.sun.com/jsf/core">

<h:head>
	<h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
	<title>Contact Edit</title>
</h:head>
<body>
	<div class="container">
		<div class="navbar navbar-inverse">
			<div class="navbar-brand">
				<h1>Edit contact</h1>
			</div>
		</div>
		<h:form id="MyForm">
			<table class="table table-bordered ">
				<tr>
					<td width="150" valign="top">Id:</td>

					<td valign="bottom"><h:outputLabel id="Id">#{contactController.contact.contactID}</h:outputLabel>
					</td>
				</tr>
				<tr>
					<td width="100" valign="top">Contact name:</td>
					<td valign="bottom"><h:inputText id="contact_Name"
							value="#{contactController.contact.contact_name}"
							required="true"
							validatorMessage="Please enter contact name with length between 1 and 20."
							requiredMessage="Please enter the contact name. ">
							<f:validateLength minimum="1" maximum="20" />
							</h:inputText>
						</td>
				</tr>
				<tr>
					<td width="100" valign="top">PhoneNumber:</td>
					<td valign="bottom"><h:inputText id="contactPhoneNumber"
							value="#{contactController.contact.contact_phoneNumber}"
							required="true"
							validatorMessage="Please enter contact phone number in the formate:XXX-XXX-XXXX."
							requiredMessage="Please enter the contact phone number. ">
							<f:validateRegex pattern="^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$" />
							</h:inputText>
						</td>
				</tr>
				<tr>
					<td width="100" valign="top">Email:</td>
					<td valign="bottom"><h:inputText id="contactEmail"
							value="#{contactController.contact.contact_email}"
							required="true"
							validatorMessage="Please enter contact email in correct formate."
							requiredMessage="Please enter the email. ">
							<f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
							</h:inputText>
							 </td>
				</tr>
				<tr>
					<td width="100" valign="top">GMV:</td>

					<td valign="bottom"><h:inputText id="contact-GMV"
							value="#{contactController.contact.contact_GMV}"
							required="true"
							validatorMessage="Please enter a value greater than 0.0"
							requiredMessage="Please enter the gross merchandise volume. ">

							<f:convertNumber currencyCode="AUD" type="currency"
								minFractionDigits="0" />
							<f:validateLongRange minimum="0" />

						</h:inputText></td>
				</tr>
				<tr>
					<td width="100" valign="top">Title:</td>
					<td valign="bottom"><h:inputText id="contactTitle"
							value="#{contactController.contact.title}"
							required="true"
							validatorMessage="Please enter contact name with length between 1 and 20."
							requiredMessage="Please enter the contact title. ">
							<f:validateLength minimum="1" maximum="20" />
							</h:inputText>
						</td>
				</tr>
				<tr>
                         <td>
                            <h:outputLabel value="Contact_company:" for="Contact_company" />
                        </td>
					<td width="100" valign="top">Contact company:</td>
					<td valign="bottom">
					<h:selectOneMenu value="#{contactController.customerId}">
					<s:selectItems value="#{CustomerManagementApplication.customers}" var = "c" itemValue="#{c.customer_ID}" />
				    </h:selectOneMenu>
						</td>
				</tr>
			</table>
			<div>
			 <h:commandButton id="submit" value="Submit" action="#{contactController.editContact()}" class="btn btn-primary">
				<f:param name="contact_ID" value="#{contactController.contact_ID}" />
			 </h:commandButton>
			</div>
			<div>
			   <h:link id="Return" value="Return" outcome="customerDeatil.xhtml" class="btn btn-primary" >
               <f:param name="customer_ID" value="#{contactController.contact.contact_company.customer_ID}" />
               </h:link>
			</div>					
		</h:form>
	</div>
</body>
</html>
